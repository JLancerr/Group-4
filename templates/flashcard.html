<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../static/css/all.min.css">
  <link rel="stylesheet" href="../static/css/font.css">
  <link rel="stylesheet" href="../static/css/flashcard.css">
  <title>FlashCard</title>
</head>
<body>

  <!-- Navbar -->
  <div class="navbar">
    <nav class="container">
      <!-- Logo -->
      <a href="index"
        ><div class="logo">
          <img src="../static/images/QLarge.svg" alt="Logo" />
          <h1>QuizRev</h1>
        </div>
      </a>

      <!-- Button -->
      <div class="buttons">
        <button id="shuffle-btn" class="secondary-btn">
          <i class="fas fa-random"></i> Shuffle
        </button>
        <a href="#" class="primary-btn">Back</a>
      </div>
    </nav>
  </div>

  <!-- Flashcard -->
  <div class="flashcard-container">
    <div class="flashcard" id="flashcard">
      <div class="question">
        Question Placeholder
        <div class="click-message">Click to flip the card</div>
      </div>
      <div class="answer">
        Answer Placeholder
        <div class="click-message">Click to flip the card</div>
      </div>
    </div>
    <div class="button">
      <button id="prevBtn">Previous</button>
      <button id="nextBtn">Next</button>
    </div>
  </div>

  <div class="alert" id="reviewalert" style="display:none;">
    <div class="alert-content">
      <h2>Review Complete!</h2>
      <p>Congratulations on completing your review session.</p>
      <div class="alert-buttons">
        <button class="retry-btn" onclick="retryReview()">Retry</button>
        <button class="finish-btn" onclick="finishReview()">Finish</button>
      </div>
    </div>
  </div>

  <script>
    const flashcard = document.getElementById('flashcard');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const reviealert = document.getElementById("reviewalert");

    let currentIndex = 0;

    const flashcards = [
      { question: 'Question 1', answer: 'Answer 1' },
      { question: 'Question 2', answer: 'Answer 2' },
      { question: 'Question 3', answer: 'Answer 3' }
    ];

    function updateFlashcard() {
      flashcard.classList.remove('flipped');
      document.querySelector('.question').firstChild.textContent = flashcards[currentIndex].question;
      document.querySelector('.answer').firstChild.textContent = flashcards[currentIndex].answer;
    }

    flashcard.addEventListener('click', () => {
      flashcard.classList.toggle('flipped');
    });

    prevBtn.addEventListener('click', () => {
      currentIndex = (currentIndex - 1 + flashcards.length) % flashcards.length;
      updateFlashcard();
    });

    nextBtn.addEventListener('click', () => {
      if (currentIndex < flashcards.length - 1) {
        currentIndex++;
        updateFlashcard();
      } else {
        reviewalert.style.display = "flex";
      }
    });

    function retryReview() {
      currentIndex = 0;
      updateFlashcard();
      reviewalert.style.display = "none";
    }

    function finishReview() {
      window.location.href = "empty";
    }

    updateFlashcard();
  
  /* Shuffle */
    document.getElementById('shuffle-btn').addEventListener('click', function() {
      this.classList.toggle('active');
    });
  </script>
</body>
</html>
